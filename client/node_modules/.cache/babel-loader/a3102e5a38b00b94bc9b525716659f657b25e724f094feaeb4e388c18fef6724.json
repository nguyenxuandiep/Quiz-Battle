{"ast":null,"code":"import * as api from \"../api\";\nimport { FETCH_ALL_QUIZES, FETCH_PUBLIC_QUIZES, FETCH_TEACHER_QUIZES, CREATE_QUIZ, UPDATE_QUIZ, LIKE_QUIZ, DELETE_QUIZ, FETCH_QUIZ, FETCH_QUIZES_BY_SEARCH, START_LOADING, END_LOADING, COMMENT_QUIZ } from \"../components/constants/actionTypes\";\nexport const getQuizes = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.fetchQuizes();\n    dispatch({\n      type: FETCH_ALL_QUIZES,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getPublicQuizes = page => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    } = await api.fetchPublicQuizes(page);\n    dispatch({\n      type: FETCH_PUBLIC_QUIZES,\n      payload: {\n        data,\n        currentPage,\n        numberOfPages\n      }\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getQuizesBySearch = searchQuery => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.fetchQuizesBySearch(searchQuery);\n    dispatch({\n      type: FETCH_QUIZES_BY_SEARCH,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getTeacherQuizes = id => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const {\n      data\n    } = await api.fetchTeacherQuizes(id);\n    dispatch({\n      type: FETCH_TEACHER_QUIZES,\n      payload: data\n    });\n    dispatch({\n      type: END_LOADING\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getQuestions = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.fetchQuestions();\n    dispatch({\n      type: FETCH_ALL_QUIZES,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createQuiz = (quiz, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.createQuiz(quiz);\n    dispatch({\n      type: CREATE_QUIZ,\n      payload: data\n    });\n    history.push(`/myquizes/${data._id}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteQuiz = id => async dispatch => {\n  try {\n    await api.deleteQuiz(id);\n    dispatch({\n      type: DELETE_QUIZ,\n      payload: id\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//do poprawy\n// export const createQuestion = (quizId, question) => async (dispatch) => {\n//   try {\n//     const { data } = await api.createQuiz(quizId, question);\n//     dispatch({ type: CREATE_QUIZ, payload: data });\n//   } catch (error) {\n//     console.log(error);\n//   }\n// };\n\nexport const updateQuiz = (id, quiz) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.updateQuiz(id, quiz);\n    dispatch({\n      type: UPDATE_QUIZ,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// export const updateQuestion = (quizId, questionId, user) => async (dispatch) => {\n//   try {\n//     const { data } = await api.updateUser(quizId, questionId, user);\n//     dispatch({ type: UPDATE_QUIZ, payload: data });\n//   } catch (error) {\n//     console.log(error);\n//   }\n// };\n\nexport const likeQuiz = quizId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.likeQuiz(quizId);\n    dispatch({\n      type: LIKE_QUIZ,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getQuiz = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.fetchQuiz(id);\n    dispatch({\n      type: FETCH_QUIZ,\n      payload: {\n        quiz: data\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const commentQuiz = (comment, quizId) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.commentQuiz(comment, quizId);\n    dispatch({\n      type: COMMENT_QUIZ,\n      payload: data\n    });\n    return data.comments;\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["api","FETCH_ALL_QUIZES","FETCH_PUBLIC_QUIZES","FETCH_TEACHER_QUIZES","CREATE_QUIZ","UPDATE_QUIZ","LIKE_QUIZ","DELETE_QUIZ","FETCH_QUIZ","FETCH_QUIZES_BY_SEARCH","START_LOADING","END_LOADING","COMMENT_QUIZ","getQuizes","dispatch","data","fetchQuizes","type","payload","error","console","log","getPublicQuizes","page","currentPage","numberOfPages","fetchPublicQuizes","getQuizesBySearch","searchQuery","fetchQuizesBySearch","getTeacherQuizes","id","fetchTeacherQuizes","getQuestions","fetchQuestions","createQuiz","quiz","history","push","_id","deleteQuiz","updateQuiz","likeQuiz","quizId","getQuiz","fetchQuiz","commentQuiz","comment","comments"],"sources":["D:/WORKSPACE/DOAN2/Quiz Battle/client/src/actions/quiz.js"],"sourcesContent":["import * as api from \"../api\"\r\nimport {\r\n  FETCH_ALL_QUIZES,\r\n  FETCH_PUBLIC_QUIZES,\r\n  FETCH_TEACHER_QUIZES,\r\n  CREATE_QUIZ,\r\n  UPDATE_QUIZ,\r\n  LIKE_QUIZ,\r\n  DELETE_QUIZ,\r\n  FETCH_QUIZ,\r\n  FETCH_QUIZES_BY_SEARCH,\r\n  START_LOADING,\r\n  END_LOADING,\r\n  COMMENT_QUIZ\r\n} from \"../components/constants/actionTypes\"\r\n\r\nexport const getQuizes = () => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchQuizes()\r\n    dispatch({ type: FETCH_ALL_QUIZES, payload: data })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const getPublicQuizes = (page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING })\r\n    const {\r\n      data: { data, currentPage, numberOfPages },\r\n    } = await api.fetchPublicQuizes(page)\r\n    dispatch({\r\n      type: FETCH_PUBLIC_QUIZES,\r\n      payload: { data, currentPage, numberOfPages },\r\n    })\r\n    dispatch({ type: END_LOADING })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const getQuizesBySearch = (searchQuery) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING })\r\n    const { data } = await api.fetchQuizesBySearch(searchQuery)\r\n    dispatch({ type: FETCH_QUIZES_BY_SEARCH, payload: data })\r\n    dispatch({ type: END_LOADING })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const getTeacherQuizes = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING })\r\n    const { data } = await api.fetchTeacherQuizes(id)\r\n    dispatch({ type: FETCH_TEACHER_QUIZES, payload: data })\r\n    dispatch({ type: END_LOADING })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const getQuestions = () => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchQuestions()\r\n    dispatch({ type: FETCH_ALL_QUIZES, payload: data })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const createQuiz = (quiz, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.createQuiz(quiz)\r\n    dispatch({ type: CREATE_QUIZ, payload: data })\r\n    history.push(`/myquizes/${data._id}`)\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const deleteQuiz = (id) => async (dispatch) => {\r\n  try {\r\n    await api.deleteQuiz(id)\r\n    dispatch({ type: DELETE_QUIZ, payload: id })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n//do poprawy\r\n// export const createQuestion = (quizId, question) => async (dispatch) => {\r\n//   try {\r\n//     const { data } = await api.createQuiz(quizId, question);\r\n//     dispatch({ type: CREATE_QUIZ, payload: data });\r\n//   } catch (error) {\r\n//     console.log(error);\r\n//   }\r\n// };\r\n\r\nexport const updateQuiz = (id, quiz) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updateQuiz(id, quiz)\r\n    dispatch({ type: UPDATE_QUIZ, payload: data })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n// export const updateQuestion = (quizId, questionId, user) => async (dispatch) => {\r\n//   try {\r\n//     const { data } = await api.updateUser(quizId, questionId, user);\r\n//     dispatch({ type: UPDATE_QUIZ, payload: data });\r\n//   } catch (error) {\r\n//     console.log(error);\r\n//   }\r\n// };\r\n\r\nexport const likeQuiz = (quizId) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.likeQuiz(quizId)\r\n    dispatch({ type: LIKE_QUIZ, payload: data })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const getQuiz = (id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchQuiz(id)\r\n    dispatch({ type: FETCH_QUIZ, payload: { quiz: data } })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const commentQuiz = (comment, quizId) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.commentQuiz(comment, quizId)\r\n    dispatch({ type: COMMENT_QUIZ, payload: data })\r\n    return data.comments\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}